(function(t){function e(e){for(var n,i,l=e[0],s=e[1],u=e[2],d=0,A=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&A.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);c&&c(e);while(A.length)A.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,l=1;l<o.length;l++){var s=o[l];0!==a[s]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var c=s;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("85ec"),a=o.n(n);a.a},"22c4":function(t,e,o){"use strict";var n=o("d2e3"),a=o.n(n);a.a},"56d7":function(t,e,o){"use strict";o.r(e);o("99af"),o("d81d"),o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],i={name:"app"},l=i,s=(o("034f"),o("2877")),u=Object(s["a"])(l,a,r,!1,null,null,null),c=u.exports,d=o("8c4f"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"split right"},[n("div",[t.bookSelected?n("div",[n("div",{staticStyle:{margin:"20px",color:"white","font-family":"'Times New Roman', Times, serif"}},[t._v("Book details")]),n("div",[n("p",[t._v("Title: "+t._s(t.detail.name))]),n("p",[t._v("Author: "+t._s(t.detail.genre))]),n("p",[t._v("Other books by the author")]),n("ul",t._l(t.authorBooks,(function(e){return n("li",{key:e.id},[t._v(t._s(e.name))])})),0)])]):n("div",[n("p",[t._v("No book selected")])])])]),n("div",{staticClass:"split left"},[n("h1",{staticStyle:{"text-align":"center","margin-top":"10px","margin-bottom":"20px"}},[t._v("Reading List")]),t.buttonPressed?n("div",{staticClass:"added-books"}):t._e(),n("div",t._l(t.books,(function(e){return n("span",{key:e.id,staticStyle:{"border-style":"groove",padding:"5px","overflow-wrap":"break-word",display:"inline-block",margin:"10px"},on:{click:function(o){return t.bookDetails(e.id)}}},[t._v(t._s(e.name))])})),0),n("div",{staticClass:"add-book"},[n("div",[n("form",{staticClass:"add-book-form"},[n("div",{staticClass:"form-group row",attrs:{id:"name-section"}},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{id:"l-1",for:"book-name"}},[t._v("Name:")]),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control form-control-sm",staticStyle:{"margin-left":"-50px"},attrs:{type:"text",id:"book-name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),n("div",{staticClass:"form-group row",attrs:{id:"genre-section"}},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{id:"l-2",for:"genre"}},[t._v("Genre:")]),n("div",{staticClass:"col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.genre,expression:"genre"}],staticClass:"form-control form-control-sm",staticStyle:{"margin-left":"-50px"},attrs:{type:"text",id:"genre"},domProps:{value:t.genre},on:{input:function(e){e.target.composing||(t.genre=e.target.value)}}})])]),n("div",{staticClass:"form-group row",attrs:{id:"author-section"}},[n("label",{staticClass:"col-sm-3 col-form-label",attrs:{id:"l-3",for:"author"}},[t._v("Author:")]),n("div",{staticClass:"col-sm-6"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],staticClass:"form-control form-control-sm",staticStyle:{"margin-left":"-50px"},attrs:{name:"author",id:"author"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.author=e.target.multiple?o:o[0]}}},[n("option",{attrs:{selected:"",value:"Select author"}},[t._v("Select author")]),t.loading>0?n("option",{attrs:{disabled:""}},[t._v("loading")]):t._l(t.authors,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])])])])]),n("img",{staticClass:"img-button",attrs:{src:o("675d"),alt:"no image"},on:{click:t.addBook}})])])},m=[],p=(o("b0c0"),o("8785")),f=o("9530"),g=o.n(f);function v(){var t=Object(p["a"])(["\n  query book($id: ID) {\n    book(id: $id) {\n      name\n      genre\n      author {\n        name\n        book {\n          name\n          genre\n        }\n      }\n    }\n  }\n"]);return v=function(){return t},t}function b(){var t=Object(p["a"])(["\n  mutation addBook($name: String!, $genre: String!, $authorId: ID!) {\n    addBook (\n      name: $name,\n      genre: $genre,\n      authorId: $authorId\n    ){\n      name\n    }        \n  }\n"]);return b=function(){return t},t}function h(){var t=Object(p["a"])(["\n    query authors {\n        authors {\n            name\n            id\n        }\n    }\n"]);return h=function(){return t},t}function y(){var t=Object(p["a"])(["\n  query books {\n    books {\n      name\n      id  \n    }\n  }\n"]);return y=function(){return t},t}var k=g()(y()),C=g()(h()),I=g()(b()),O=g()(v()),S={name:"Homepage",data:function(){return{name:"",genre:"",author:"Select author",authors:[],buttonPressed:null,bookName:"",books:[],detail:"",bookSelected:null,Books:[],loading:0,details:[],authorBooks:[]}},methods:{addBook:function(){this.buttonPressed=!0,this.$apollo.mutate({mutation:I,variables:{name:this.name,genre:this.genre,authorId:this.author},update:function(t,e){var o=e.data.addBook,n=t.readQuery({query:k});n.books.push(o),t.writeQuery({query:k,data:n})}})},bookDetails:function(t){var e=this;this.bookSelected=!0,this.$apollo.query({query:O,variables:{id:t}}).then((function(t){e.details=t.data,e.detail=e.details.book,e.authorBooks=e.detail.author.book,console.log(e.authorBooks)}))}},apollo:{books:{query:k,loadingKey:"loading"},authors:{query:C,loadingKey:"loading"}}},w=S,B=(o("22c4"),Object(s["a"])(w,A,m,!1,null,"524609de",null)),R=B.exports;n["default"].use(d["a"]);var x=new d["a"]({routes:[{path:"/",name:"Books",component:R}]}),_=o("74ca"),j=o("478e"),Z=o("2bf2"),P=o("e13b"),E=o("522d"),J=o("5f5b"),q=(o("f9e3"),o("2dd8"),Object(P["a"])((function(t){var e=t.graphQLErrors,o=t.networkError;e&&e.map((function(t){var e=t.message,o=t.location,n=t.path;return(console.error("[GraphQL error]: Message ".concat(e,", location: ").concat(o,", path: ").concat(n," ")))})),o&&console.error("[Network error]: ".concat(o))})));n["default"].config.productionTip=!1,n["default"].use(E["a"]),n["default"].use(J["a"]);var W=new j["a"]({uri:"http://localhost:4000/graphql"}),Y=new _["a"]({link:q.concat(W),cache:new Z["a"]}),D=new E["a"]({defaultClient:Y});new n["default"]({apolloProvider:D,router:x,render:function(t){return t(c)}}).$mount("#app")},"675d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAAIAAAAABqZ9wqAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAACrElEQVRYCc1XS2gUQRB9Oy5+MZKoCUL8gIYNSiIBJUE8eDDxKP49eRHNKTdF8CJ48KDe9KCCF734i3cVLx4k+CXr30QUjYjRJCRRNLKi9bad6Znd7nV2ZjVT0Ex1dVX1m+6u6q7ULyHY6P4z4NIN4PV7m0Zp+dJ6YHsH0JIprSejKSOQ0S/A6W7g3tO/OgilsHoF0LkFqJplVS8G0vcWOH4OGBm3GkUaqK4C9u8Cli00mgeBZPuAYwJi4odRObZw+lQFpqmhyJXjSbgS/xIEJ/ouP8g5+t9507qMAjL2VbbjfHkrsWAecPIAcEIa+bBEMJxrXOb0kQJy6oqciTGfOATb1gzU1gB10tqaQhj4VIZHJRiu+gSAA4ZolOhIT9GO0mnNh+XuPAZ6X3raTj5PeN3/zFy45k3oRE5WnosYzKsB4MWbvAN1RmL4im1662FCgDyQMyo0+SsyJBE0OJwAIFyOgUGY444JihdVKkU1MzUu1nLyG9fpfiHHC/7uE+DD58IR1f80YgFycLdKVGazYinvDsP9EVBsbwW6jgZEXufbREK2RhCZt+bIWWDNSoC3pY0alwAZaSTmgufSbMT75XavbRSYMc0ChHvZfdNuyJFt7RpIth+4LC+5qFRbnZCtqa9LAJC5c4D5SViRVcvzGzr5mXVtyx8gDYuiHrH4dnxIZ1RidLB1fXyHUT3s3OBZOvnih+m8XMr91Ba5nObDcq3yvGzWr3l1Rlj8sO4oh3qywMch1XoelWMJ1Eik7N0UsNF1DZ/4h8+oJ39ApcIdZutDnQDLUR/pqOHBYSVWKq37DCOxboFVAIK+9Iq4nrkyrDv45K8kMXHtkx81gOA0xUAoZfHDuoNP/koQ6549m4HZM63ezEBcddYdF68bS0RXpeSXOWpHRyA6bPq/AYqVtyvdlXAXAAAAAElFTkSuQmCC"},"85ec":function(t,e,o){},d2e3:function(t,e,o){}});
//# sourceMappingURL=app.0fcac694.js.map